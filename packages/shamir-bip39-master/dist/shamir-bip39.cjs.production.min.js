"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n,r=require("bip39"),t=(n=require("randombytes"))&&"object"==typeof n&&"default"in n?n.default:n;function e(n,r,t){for(;n.length<t;)n=r+n;return n}function o(n){if(!function(n){return!!n.match(/^[0-9a-fA-F]+$/)}(n))throw new Error("Expected a hex string, but got "+n);return e(n,"0",n.length+n.length%2).match(/.{1,2}/g).map((function(n){return parseInt(n,16)}))}for(var u=Math.pow(2,8),c=u-1,i=[],a=[],f=0,p=1;f<u;++f)a[f]=p,i[p]=f,(p<<=1)>=u&&(p^=29,p&=c);function m(n,r,t){for(var e,o=0,u=0;u<r.length;u++)if(t[u]){e=i[t[u]];for(var f=0;f<r.length;f++)if(u!==f){if(n===r[f]){e=-1;break}e=(e+i[n^r[f]]-i[r[u]^r[f]]+c)%c}o=-1===e?o:o^a[e]}return o}function v(n,r){for(var t=0,e=r.length-1;e>=0;--e)t=0!==t?a[(i[n]+i[t])%c]^r[e]:r[e];return t}exports.deriveShare=function(n,t){var u=function(n,r){var t=[],u=[];return Object.keys(n).forEach((function(r){var e=o(n[r]);t.push(parseInt(r,10));for(var c=0;c<e.length;c++)u[c]=u[c]||[],u[c][t.length-1]=e[c]})),u.map((function(n){return m(r,t,n)})).reduce((function(n,r){return n+e(r.toString(16),"0",2)}),"")}(Object.keys(n).reduce((function(t,e){var o=r.mnemonicToEntropy(n[e]);return t[e]=o,t}),{}),t),c={};return c[t.toString()]=r.entropyToMnemonic(u),c},exports.recoverMnemonic=function(n){var t=function(n){var r=[],t=[];return Object.keys(n).forEach((function(e){var u=o(n[e]);r.push(parseInt(e,10));for(var c=0;c<u.length;c++)t[c]=t[c]||[],t[c][r.length-1]=u[c]})),t.map((function(n){return m(0,r,n)})).reduce((function(n,r){return n+e(r.toString(16),"0",2)}),"")}(Object.keys(n).reduce((function(t,e){var o=r.mnemonicToEntropy(n[e]);return t[e]=o,t}),{}));return r.entropyToMnemonic(t)},exports.splitMnemonic=function(n,u,c){var i=function(n,r,u){return o(n).map((function(n){var e=Array(u-1).fill(0).map((function(){return t(1)})).map((function(n){return n.toString("hex")})).map((function(n){return parseInt(n,16)})),o=[n].concat(e);return Array(r).fill(0).map((function(n,r){var t=r+1;return{x:t,y:v(t,o)}}))})).map((function(n){return n.map((function(n){var r=e(n.y.toString(16),"0",2);return{x:n.x.toString(),y:r}}))})).reduce((function(n,r){return r.forEach((function(r){n[r.x]?n[r.x]+=r.y:n[r.x]=r.y})),n}),{})}(r.mnemonicToEntropy(n),u,c);return Object.keys(i).reduce((function(n,t){var e=r.entropyToMnemonic(i[t]);return n[t]=e,n}),{})};
//# sourceMappingURL=shamir-bip39.cjs.production.min.js.map
